login -isysadm.cred
mission create --file=testfiles/PTM.json
user create  --mission=PTM --identFile=testfiles/usermgr.cred usermgr authorities=ROLE_MISSION_READER,ROLE_USERMGR,ROLE_CLI_USER,ROLE_GUI_USER
login --identFile=testfiles/usermgr.cred PTM
user create --identFile=testfiles/proseo.cred proseo authorities=ROLE_CLI_USER,ROLE_GUI_USER,ROLE_PRIP_USER
user create --identFile=testfiles/esaprip.cred esaprip
user create --identFile=testfiles/knmiprip.cred knmiprip
user create --identFile=testfiles/wrapper.cred wrapper
user create --identFile=testfiles/pripapi.cred pripapi authorities=ROLE_FACILITY_READER
group create operator
group grant operator ROLE_MISSION_READER
group grant operator ROLE_PRODUCTCLASS_READER
group grant operator ROLE_PRODUCT_READER_ALL
group grant operator ROLE_PROCESSOR_READER
group grant operator ROLE_ORDER_READER
group grant operator ROLE_ORDER_MGR
group grant operator ROLE_ORDER_PLANNER
group grant operator ROLE_ORDER_MONITOR
group grant operator ROLE_FACILITY_READER
group grant operator ROLE_FACILITY_MONITOR
group create archivist
group grant archivist ROLE_MISSION_READER
group grant archivist ROLE_PRODUCTCLASS_READER
group grant archivist ROLE_PRODUCT_READER_ALL
group grant archivist ROLE_PRODUCT_INGESTOR
group grant archivist ROLE_PRODUCT_MGR
group grant archivist ROLE_FACILITY_READER
group grant archivist ROLE_FACILITY_MONITOR
group create engineer
group grant engineer ROLE_MISSION_READER
group grant engineer ROLE_MISSION_MGR
group grant engineer ROLE_PRODUCTCLASS_READER
group grant engineer ROLE_PRODUCTCLASS_MGR
group grant engineer ROLE_PRODUCT_READER_ALL
group grant engineer ROLE_PROCESSOR_READER
group grant engineer ROLE_PROCESSORCLASS_MGR
group grant engineer ROLE_CONFIGURATION_MGR
group grant engineer ROLE_FACILITY_READER
group grant engineer ROLE_FACILITY_MGR
group grant engineer ROLE_FACILITY_MONITOR
group grant engineer ROLE_ORDER_READER
group grant engineer ROLE_ORDER_MONITOR
group create approver
group grant approver ROLE_ORDER_READER
group grant approver ROLE_ORDER_APPROVER
group create prippublic
group grant prippublic ROLE_PRIP_USER
group grant prippublic ROLE_PRODUCT_READER
group create externalprocessor
group grant externalprocessor ROLE_PRIP_USER
group grant externalprocessor ROLE_PRODUCT_READER_RESTRICTED
group grant externalprocessor ROLE_PRODUCT_INGESTOR
group create internalprocessor
group grant internalprocessor ROLE_PRODUCT_GENERATOR
group grant internalprocessor ROLE_PRODUCT_INGESTOR
group grant internalprocessor ROLE_JOBSTEP_PROCESSOR
group add operator proseo
group add archivist proseo
group add engineer proseo
group add approver proseo
group add prippublic esaprip
group add externalprocessor knmiprip
group add internalprocessor wrapper
login -itestfiles/proseo.cred PTM
orbit create --file=testfiles/PTM_orbits.json
processor class create --file=testfiles/PTM_PTML1B.json
processor class create --file=testfiles/PTM_PTML2.json
processor class create --file=testfiles/PTM_PTML3.json
processor create --file=testfiles/PTM_PTML1B_0.1.0.json
processor create --file=testfiles/PTM_PTML2_0.1.0.json
processor create --file=testfiles/PTM_PTML3_0.1.0.json
configuration create --file=testfiles/PTM_PTML1B_conf_OPER_2020-03-25.json
configuration create --file=testfiles/PTM_PTML2_conf_OPER_2020-03-25.json
configuration create --file=testfiles/PTM_PTML3_conf_OPER_2020-03-25.json
processor configuration create PTML1B_0.1.0_OPER_2020-03-25 PTML1B 0.1.0 OPER_2020-03-25
processor configuration create PTML2_0.1.0_OPER_2020-03-25 PTML2 0.1.0 OPER_2020-03-25
processor configuration create PTML3_0.1.0_OPER_2020-03-25 PTML3 0.1.0 OPER_2020-03-25
productclass create --file=testfiles/PTM_L0________.json
productclass create --file=testfiles/PTM_AUX_IERS_B.json
productclass create --file=testfiles/PTM_L1B_______.json
productclass create --file=testfiles/PTM_L1B_PART1.json
productclass create --file=testfiles/PTM_L1B_PART2.json
productclass create --file=testfiles/PTM_PTM_L2A.json
productclass create --file=testfiles/PTM_PTM_L2B.json
productclass create --file=testfiles/PTM_PTM_L3.json
productclass rule create --file=testfiles/PTM_L1B________rule.txt --format=PLAIN L1B_______ mode=OPER configuredProcessors=PTML1B_0.1.0_OPER_2020-03-25
productclass rule create --file=testfiles/PTM_PTM_L2A_rule.txt --format=PLAIN PTM_L2A mode=OPER configuredProcessors=PTML2_0.1.0_OPER_2020-03-25
productclass rule create --file=testfiles/PTM_PTM_L2B_rule.txt --format=PLAIN PTM_L2B mode=OPER configuredProcessors=PTML2_0.1.0_OPER_2020-03-25
productclass rule create --file=testfiles/PTM_PTM_L3_rule.txt --format=PLAIN PTM_L3 mode=OPER configuredProcessors=PTML3_0.1.0_OPER_2020-03-25
exit
